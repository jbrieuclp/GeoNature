<div class="row">
  <div class="col-xl-6">
    <div class="row">
      <div 
        *ngIf="occtaxConfig.form_fields.life_stage"
        class="col-sm-6">
        <pnx-nomenclature
          class="auto"
          label="{{ 'Counting.LifeStage' | translate }}" 
          codeNomenclatureType="STADE_VIE" 
          [parentFormControl]="countingForm.get('id_nomenclature_life_stage')"
          [regne]="(occtaxFormOccurrenceService.taxref|async)?.regne"  
          [group2Inpn]="(occtaxFormOccurrenceService.taxref|async)?.group2_inpn"> 
        </pnx-nomenclature>
      </div>
      <div 
        *ngIf="occtaxConfig.form_fields.sex"
        class="col-sm-6">
        <pnx-nomenclature
          class="auto"
          label="{{ 'Counting.Sex' | translate }}"
          codeNomenclatureType="SEXE" 
          [parentFormControl]="countingForm.get('id_nomenclature_sex')"
          [regne]="(occtaxFormOccurrenceService.taxref|async)?.regne" 
          [group2Inpn]="(occtaxFormOccurrenceService.taxref|async)?.group2_inpn">
        </pnx-nomenclature>
      </div>
    </div>
    <small 
      *ngIf="countingForm.get('id_nomenclature_life_stage').hasError('required') && countingForm.get('id_nomenclature_life_stage').touched" 
      class="error" 
      style="color:red">
      {{'Counting.Errors.LifeStageRequiredError' |translate}}
    </small>
    <small 
      *ngIf="countingForm.get('id_nomenclature_sex').hasError('required') && countingForm.get('id_nomenclature_sex').touched" 
      class="error" 
      style="color:red">
      {{'Counting.Errors.SexRequiredError' |translate}}
    </small>
  </div>

  <div class="col-xl-6">
    <div class="row">
      <div 
        *ngIf="occtaxConfig.form_fields.count_min"
        class="col-sm-6">
        <small> {{ 'Counting.NumberMin' | translate }} </small>
        <input 
          class="form-control form-control-sm" 
          type="number" 
          min="0"
          [ngClass]="{'is-invalid': countingForm.hasError('invalidCount')}" 
          [formControl]="countingForm.get('count_min')">
      </div>

      <div 
        *ngIf="occtaxConfig.form_fields.count_max"
        class="col-sm-6">
        <small> {{ 'Counting.NumberMax' | translate }} </small>
        <input 
          class="form-control form-control-sm" 
          type="number" 
          min="0"
          [ngClass]="{'is-invalid': countingForm.hasError('invalidCount')}" 
          [formControl]="countingForm.get('count_max')">
      </div>
    </div>
    <small 
      *ngIf="countingForm.hasError('invalidCount')"
      class="error"
      style="color:red"> 
      {{ 'Counting.Errors.CountError' | translate }}
    </small>
  </div>

  <div class="col-xl-6">
    <div class="row">
      <div 
        *ngIf="occtaxConfig.form_fields.obj_count"
        class="col-sm-6">
        <pnx-nomenclature 
          class="auto"
          label="{{ 'Counting.CountingObject' | translate }}"
          codeNomenclatureType="OBJ_DENBR" 
          [parentFormControl]="countingForm.get('id_nomenclature_obj_count')"
          [regne]="(occtaxFormOccurrenceService.taxref|async)?.regne"
          [group2Inpn]="(occtaxFormOccurrenceService.taxref|async)?.group2_inpn">
        </pnx-nomenclature>
      </div>
      <div 
        *ngIf="occtaxConfig.form_fields.type_count"
        class="col-sm-6">
        <pnx-nomenclature
          #typeDenombrement
          class="auto"
          label="{{ 'Counting.CountingType' | translate }}"
          codeNomenclatureType="TYP_DENBR"
          [parentFormControl]="countingForm.get('id_nomenclature_type_count')"
          [regne]="(occtaxFormOccurrenceService.taxref|async)?.regne"
          [group2Inpn]="(occtaxFormOccurrenceService.taxref|async)?.group2_inpn">
        </pnx-nomenclature> 
      </div>
    </div>
    <small 
      *ngIf="countingForm.get('id_nomenclature_obj_count').hasError('required') && countingForm.get('id_nomenclature_obj_count').touched" 
      class="error" 
      style="color:red">
      {{'Counting.Errors.CountingObjectRequiredError' |translate}}
    </small>
  </div>
</div>



